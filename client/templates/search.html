<template name="search" xmlns="http://www.w3.org/1999/html">

  <div class="row">
    <div id="search-field" class="form-group col-xs-12">
      <input type="text"
        id="searchField"
        class="form-control"
        placeholder="Søk etter skribenter, layoutansvarlige, artikkeltitler eller andre stikkord."
        value="{{searchText}}" autofocus/>
      {{#if searchText}}
      <span class="help-block">{{article.length}} artikler funnet.</span>
      {{/if}}
    </div>

    {{#unless searchText}}
    <h1>Søkehjelp</h1>
    <p>Du kan bruke hermetegn til å søke etter eksakte fraser: <code>"readme tester kaffe"</code></p>
    <p>Du kan bruke minus til å utelate ord og fraser: <code>readme tester -kaffe</code></p>
    <p>Du kan bruke fraser for å få kun artikler som inneholder alle søkeordene: <code>"odd" "mats"</code></p>
    {{/unless}}

    {{#if article}}
    <div id="main-table-wrapper" class="table-responsive">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th id="th-edition">Utgave</th>
            <th id="th-pages">Side</th>
            <th id="th-title">Tittel</th>
            <th id="th-author">Skribent</th>
            <th id="th-layout">Layout</th>
            <th id="th-photo">Foto</th>
            <th id="th-type">Spalte</th>
            <th id="th-tags">Tags</th>
            {{#if currentUser}}
            <th id="th-delete">Slett</th>
            {{/if}}
          </tr>
        </thead>
        <tbody>
          {{#each article}}
          <tr>
            <td class="td-edition" contenteditable="{{loggedIn}}"><a href="{{url}}">{{edition}}</a></td>
            <td class="td-pages" contenteditable="{{loggedIn}}">{{pages}}</td>
            <td class="td-title" contenteditable="{{loggedIn}}">{{title}}</td>
            <td class="td-author" contenteditable="{{loggedIn}}">{{author}}</td>
            <td class="td-layout" contenteditable="{{loggedIn}}">{{layout}}</td>
            <td class="td-photo" contenteditable="{{loggedIn}}">{{photo}}</td>
            <td class="td-type" contenteditable="{{loggedIn}}">{{type}}</td>
            <td class="td-tags" contenteditable="{{loggedIn}}">{{tags}}</td>
            {{#if currentUser}}
            <td id="td-remove" contenteditable="false">
              <button id="remove" class="btn btn-danger">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
              </button>
            </td>
            {{/if}}
          </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
    {{/if}}
  </div>
</template>
